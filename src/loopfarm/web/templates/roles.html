{% extends "base.html" %}
{% set active_nav = "roles" %}

{% block title %}loopfarm - roles{% endblock %}

{% block content %}
<div class="roles-shell">
  <section class="roles-hero">
    <h1 class="roles-title">Role Catalog</h1>
    <p class="roles-subtitle">Configured worker and orchestrator roles available to Loopfarm runs.</p>
    <span class="roles-count">{{ roles|length }} roles</span>
  </section>

  <section class="roles-panel">
    {% if roles %}
      <div
        class="roles-table-wrap"
        tabindex="0"
        aria-label="Roles table. Scroll horizontally to reveal all columns on small screens."
      >
        <table class="roles-table">
          <thead>
            <tr>
              <th>name</th>
              <th>description</th>
              <th>cli</th>
              <th>model</th>
              <th>reasoning</th>
              <th>prompt path</th>
            </tr>
          </thead>
          <tbody>
            {% for role in roles %}
            <tr>
              <td class="role-name">{{ role.name }}</td>
              <td class="role-description">{{ role.description[:140] }}</td>
              <td><code>{{ role.cli or '-' }}</code></td>
              <td><code>{{ role.model or '-' }}</code></td>
              <td>{{ role.reasoning or '-' }}</td>
              <td><code>{{ role.prompt_path or '-' }}</code></td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
      <p class="roles-scroll-hint">Tip: swipe horizontally to view all role columns.</p>
    {% else %}
      <p class="roles-empty">No roles defined. Create <code>.loopfarm/roles/*.md</code> files.</p>
    {% endif %}
  </section>
</div>
{% endblock %}
